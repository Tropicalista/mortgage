import*as e from"@wordpress/interactivity";var t={d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const n=(r={getContext:()=>e.getContext,getElement:()=>e.getElement,store:()=>e.store},o={},t.d(o,r),o);var r,o,a;!function(e){e.Begin="begin",e.End="end"}(a||(a={}));const m=window.navigator.language||window.navigator.userLanguage,s=e=>e.toLocaleString(m,{minimumFractionDigits:2,maximumFractionDigits:2}),{state:c}=(0,n.store)("mortgage",{state:{get numberOfPayments(){const e=(0,n.getContext)();return e.frequency*e.term},get installment(){const{result:e}=(0,n.getContext)();return s(e)},get totalPaid(){const e=(0,n.getContext)();return s(e.result*c.numberOfPayments)}},actions:{calculate:()=>{const{ref:e}=(0,n.getElement)(),t=e.closest("form"),r=new FormData(t),o=Object.fromEntries(r),m=(0,n.getContext)();m.type=t.dataset.type,"loan"===m.type&&(e=>{const t=function(e,t,n,r,o){void 0===r&&(r=0),void 0===o&&(o=a.End);var m=0===e,s=Math.pow(1+e,t),c=o===a.Begin?1:0,i=m?1:e;return-(r+n*s)/(m?t:(1+i*c)*(s-1)/i)}(e.rate/100/e.frequency,e.frequency*e.term,e.amount),r=(0,n.getContext)();r.showTable=!0,r.result=-1*t})(o),m.amount=Number(o.amount),m.rate=Number(o.rate),m.frequency=Number(o.frequency),m.term=Number(o.term),m.increment=Number(o.increment)}},callbacks:{fields:()=>{const{ref:e}=(0,n.getElement)();c.currency=e.dataset.currency,c.type=e.dataset.type}}});